#/etc/slurm-llnl/slurm.conf
# slurm.conf file generated by configurator easy.html.
# Put this file on all nodes of your cluster.
# See the slurm.conf man page for more information.

ClusterName=cluster
ControlMachine=MY_NODE_NAME1
ControlAddr=192.168.XX.XX
ProctrackType=proctrack/cgroup
ReturnToService=1
SlurmctldPidFile=/var/run/slurmctld.pid
SlurmdPidFile=/var/run/slurmd.pid
SlurmdSpoolDir=/var/spool/slurmd
SlurmUser=slurm
SlurmdUser=root
StateSaveLocation=/var/spool/slurmctld
TaskPlugin=task/affinity,task/cgroup

# SCHEDULING
SchedulerType=sched/backfill
SelectType=select/cons_tres

# LOGGING AND ACCOUNTING
SlurmctldDebug=info
SlurmctldLogFile=/var/log/slurmctld.log
SlurmdDebug=info
SlurmdLogFile=/var/log/slurmd.log

# COMPUTE NODES
GresTypes=gpu
NodeName=MY_NODE_NAME1 NodeAddr=192.168.XX.XX CPUs=12 SocketsPerBoard=1 CoresPerSocket=6 ThreadsPerCore=2 Gres=gpu:nvidia:2 State=idle
NodeName=MY_NODE_NAME2 NodeAddr=192.168.XX.XX CPUs=12 SocketsPerBoard=1 CoresPerSocket=6 ThreadsPerCore=2 Gres=gpu:nvidia:2 State=idle
PartitionName=compute Nodes=ALL Default=YES MaxTime=INFINITE State=UP
\end{lstlisting}

